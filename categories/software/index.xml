<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Software on Home</title><link>https://abudlightlime.com/categories/software/</link><description>Recent content in Software on Home</description><generator>Hugo</generator><language>en</language><lastBuildDate>Fri, 11 Aug 2023 10:26:00 -0400</lastBuildDate><atom:link href="https://abudlightlime.com/categories/software/index.xml" rel="self" type="application/rss+xml"/><item><title>popSQL part 2: writing the sqlite database file</title><link>https://abudlightlime.com/posts/20230811-popsql-2-writing-database-files/</link><pubDate>Fri, 11 Aug 2023 10:26:00 -0400</pubDate><guid>https://abudlightlime.com/posts/20230811-popsql-2-writing-database-files/</guid><description>&lt;h1 id="writing-out-what-we-read">Writing out what we read&lt;/h1>
&lt;p>The next part of this exercise is going to be writing back out the database files we read in. Hopefully by the end of the exercise we should be able to run this new function in our main file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># main.py&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">...&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">test_file_end_to_end&lt;/span>():
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#75715e"># create the pagers for both the old and new dbs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> old_db_pager &lt;span style="color:#f92672">=&lt;/span> Pager(&lt;span style="color:#e6db74">&amp;#39;test.db&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> new_db_pager &lt;span style="color:#f92672">=&lt;/span> Pager(&lt;span style="color:#e6db74">&amp;#39;generated.db&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#75715e"># read in the schema page&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> schema_page &lt;span style="color:#f92672">=&lt;/span> old_db_pager&lt;span style="color:#f92672">.&lt;/span>get_page(&lt;span style="color:#ae81ff">1&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> dbinfo &lt;span style="color:#f92672">=&lt;/span> DBInfo(schema_page)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> schema_node &lt;span style="color:#f92672">=&lt;/span> Node(schema_page, &lt;span style="color:#66d9ef">True&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#75715e"># read in the page with the test table&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> data_page &lt;span style="color:#f92672">=&lt;/span> old_db_pager&lt;span style="color:#f92672">.&lt;/span>get_page(&lt;span style="color:#ae81ff">2&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> data_node &lt;span style="color:#f92672">=&lt;/span> Node(data_page)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#75715e"># serialize the pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> new_schema_page &lt;span style="color:#f92672">=&lt;/span> dbinfo&lt;span style="color:#f92672">.&lt;/span>to_bytes() &lt;span style="color:#f92672">+&lt;/span> schema_node&lt;span style="color:#f92672">.&lt;/span>to_bytes(dbinfo)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> new_data_page &lt;span style="color:#f92672">=&lt;/span> data_node&lt;span style="color:#f92672">.&lt;/span>to_bytes(dbinfo)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#75715e"># write the pages to the new db&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> new_db_pager&lt;span style="color:#f92672">.&lt;/span>write_page(&lt;span style="color:#ae81ff">1&lt;/span>, new_schema_page)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> new_db_pager&lt;span style="color:#f92672">.&lt;/span>write_page(&lt;span style="color:#ae81ff">2&lt;/span>, new_data_page)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> print(&lt;span style="color:#e6db74">&amp;#39;generated.db written&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> __name__ &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;__main__&amp;#39;&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">-&lt;/span> test_schema_page()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">+&lt;/span> test_file_end_to_end()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For this to work we need to introduce some new functions that allow us to serialize our database header and nodes:&lt;/p></description></item><item><title>popSQL part 1: reading the sqlite database file</title><link>https://abudlightlime.com/posts/20230805-popsql-1-reading-db-pages/</link><pubDate>Sat, 05 Aug 2023 10:26:00 -0400</pubDate><guid>https://abudlightlime.com/posts/20230805-popsql-1-reading-db-pages/</guid><description>&lt;h1 id="reading-the-database-files">Reading the database files&lt;/h1>
&lt;p>My approach this time will be to start from the absolute bottom of the system, the file format. I chose this as a starting place because it&amp;rsquo;s easy to test in addition to being well documented. From there I&amp;rsquo;ll design a close-enough-to the source set of abstractions which are unit tested fairly comprehsively.&lt;/p>
&lt;p>Before we write any code, let&amp;rsquo;s look at the directory for the code this section. You&amp;rsquo;ll notice a pager, node, cell, and a record in the backend - a util and dbfile in the src directory, a main file, and a test suite. At this point, we create any folders and &lt;code>__init__.py&lt;/code> files needed to support the structure. You&amp;rsquo;ll also notice a &lt;code>test.db&lt;/code> which we&amp;rsquo;ll create using sqlite itself, and ideally be parsing out using our own code by the end of this exercise.&lt;/p></description></item><item><title>popSQL part 0: a DB education through reverse-engineering</title><link>https://abudlightlime.com/posts/20230803-popsql-0-recreating-sqlite/</link><pubDate>Thu, 03 Aug 2023 11:41:42 -0400</pubDate><guid>https://abudlightlime.com/posts/20230803-popsql-0-recreating-sqlite/</guid><description>&lt;h1 id="a-liking-for-database-systems">A liking for database systems&lt;/h1>
&lt;p>Databases have long been a special interest of mine. Since taking CS 445 Information Systems at UMass, I&amp;rsquo;ve held a unique curiosity for how databases were used and how they worked under the hood. I found topics like relational algebra fascinating, and I always enjoyed how clean SQL felt. I distinctly remember how enjoyable it was leafing through Michael Stonebraker&amp;rsquo;s &lt;a href="https://redbook.io">Red Book&lt;/a> and over time I developed a decent understanding about how to design, interact with and debug production databases.&lt;/p></description></item><item><title>RBAC x ReBAC, a hybrid authorization model for big technology companies</title><link>https://abudlightlime.com/posts/20230217-rbac-and-rebac/</link><pubDate>Tue, 16 May 2023 15:12:30 -0400</pubDate><guid>https://abudlightlime.com/posts/20230217-rbac-and-rebac/</guid><description>&lt;p>&lt;em>Note:&lt;/em> This article is an abandoned draft. I still feel some of the ideas and concepts are helpful, so I&amp;rsquo;ve left it here in case the thought experiment benefits anyone.&lt;/p>
&lt;h2 id="when-one-access-control-model-isnt-enough">When one access-control model isn&amp;rsquo;t enough&lt;/h2>
&lt;p>An application&amp;rsquo;s access-control scheme is an important part of ensuring safety within your business. Most companies I&amp;rsquo;ve worked with have employed an RBAC model to secure their internal applications, which has provides a good-enough set of restrictions and controls for employees. This model breaks down as the business gets more complex, as does ReBAC - a popular alternative to RBAC. The wikipedia page for ReBAC describes how it can be layered in conjunction with RBAC [citation needed], but the literature online is sparse on exactly how to go about doing so. In this article, I aim to describe an implementation for doing so using a concrete business use case.&lt;/p></description></item><item><title>If not careful, A/B testing will kill innovation</title><link>https://abudlightlime.com/posts/20220716-abtesting-and-innovation/</link><pubDate>Sat, 16 Jul 2022 15:34:22 -0400</pubDate><guid>https://abudlightlime.com/posts/20220716-abtesting-and-innovation/</guid><description>&lt;p>&lt;strong>Note: I substitued the phrase A/B Testing for experimentation in this document&lt;/strong>&lt;/p>
&lt;p>I recently read an article on &lt;a href="https://www.zumsteg.net/2022/07/05/unchecked-ab-testing-destroys-everything-it-touches/">hacker news&lt;/a> highlighting some of the anti-patterns of experimentation and it got me thinking about an idea that I’ve had bouncing around in my head for some time. The article begins to unwind some of the common risks with experimentation, which generally include ignoring the long term effects of experiments and only measuring part of what matters.&lt;/p></description></item><item><title>Wanna get better? Spend less time rubbernecking.</title><link>https://abudlightlime.com/posts/20220703-rubberneck-debugging/</link><pubDate>Sun, 03 Jul 2022 16:26:50 -0400</pubDate><guid>https://abudlightlime.com/posts/20220703-rubberneck-debugging/</guid><description>&lt;h1 id="what-is-rubberneck-debugging">What is rubberneck debugging?&lt;/h1>
&lt;p>Rubberneck debugging is something I see a lot of high achieving engineers fall trap to. Put simply, it’s the eagerness one might feel to respond to urgent inquiries in a forum like slack. I find that it tends to stifle the engineers growth, as well as diminishes the opportunities that newer and more junior engineers have to engage in public discussion.&lt;/p>
&lt;h1 id="what-does-it-look-like">What does it look like?&lt;/h1>
&lt;p>I think we&amp;rsquo;ve all been in this situation before. You&amp;rsquo;re pushing a PR for a small chunk of work that you tackled in the morning and you go to slack to clear your inbox before starting the next chunk of work.&lt;/p></description></item><item><title>Your first rotation oncall as a Software Engineer</title><link>https://abudlightlime.com/posts/20211224-your-first-oncall-rotation/</link><pubDate>Fri, 24 Dec 2021 21:37:13 -0400</pubDate><guid>https://abudlightlime.com/posts/20211224-your-first-oncall-rotation/</guid><description>&lt;p>I think most engineers remember this first time oncall. If you&amp;rsquo;re writing software at any larger organization, oncall is a way for the company to delegate critical issues and shield teams from unexpected interruptions. I found this helpful guide](&lt;a href="https://brianjenney.medium.com/how-to-survive-your-first-on-call-rotation-as-a-software-engineer-5bc0d334566e">https://brianjenney.medium.com/how-to-survive-your-first-on-call-rotation-as-a-software-engineer-5bc0d334566e&lt;/a>) detailing a lot of the ideas I share, and hope that this document can serve as an affirmation and compliment to that one.&lt;/p>
&lt;h3 id="what-to-do">What to do&lt;/h3>
&lt;p>I want to highlight the most important idea about oncall that I feel not everyone knows. Your job is not to resolve every issue. If looped into something, whether it be ping, page or partridge - your job is to find someone who can address it, not address it yourself.&lt;/p></description></item><item><title>Diagnosing MySQL deadlocks</title><link>https://abudlightlime.com/posts/20211126-diagnosing-mysql-deadlocks/</link><pubDate>Fri, 26 Nov 2021 19:02:13 -0400</pubDate><guid>https://abudlightlime.com/posts/20211126-diagnosing-mysql-deadlocks/</guid><description>&lt;h1 id="an-unpleasant-exception">An unpleasant exception&lt;/h1>
&lt;pre tabindex="0">&lt;code>Deadlock found when trying to get lock; try restarting transaction
&lt;/code>&lt;/pre>&lt;p>If you&amp;rsquo;re reading this document, you&amp;rsquo;re either here out of curiosity or necessity. I&amp;rsquo;ll be brief for those in the latter camp. When you encounter the above error in production, you only need the stack trace to figure out which query got blocked. What I have found is difficult to ascertain is which query is doing the actual blocking.&lt;/p></description></item><item><title>Kubernetes Web Deployments, a love story</title><link>https://abudlightlime.com/posts/20211028-k8s-web-deployments/</link><pubDate>Thu, 28 Oct 2021 21:37:13 -0400</pubDate><guid>https://abudlightlime.com/posts/20211028-k8s-web-deployments/</guid><description>&lt;h3 id="the-wrong-tool-for-the-job">The wrong tool for the job?&lt;/h3>
&lt;p>Kubernetes is quickly becoming the default mechanism for engineers to manage remote deployments. Its feature-richness and ease of use make it an attractive solution for pushing work into the cloud. However, there still exist some quirks of its usage that any web developer should know before using it. This story tells of one of them.&lt;/p>
&lt;h3 id="what-happens-on-deployment">What happens on Deployment&lt;/h3>
&lt;p>For anyone who knows kubernetes, you&amp;rsquo;ll know that service deployments are rolled out in sets of pods. Each time you deploy a new version of your application, the old deployment slowly scales down while the new one scales up. In a deployment, each request is likely to be routed to any given pod so that means for some period of time in a rollout, your service is going to serve two versions of code simultaneously.&lt;/p></description></item></channel></rss>